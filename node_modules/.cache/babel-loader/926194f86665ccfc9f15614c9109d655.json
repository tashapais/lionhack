{"ast":null,"code":"import Payment from \"payment\";\nfunction clearNumber() {\n  let value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  return value.replace(/\\D+/g, \"\");\n}\nexport function formatCreditCardNumber(value) {\n  if (!value) {\n    return value;\n  }\n  const issuer = Payment.fns.cardType(value);\n  const clearValue = clearNumber(value);\n  let nextValue;\n  switch (issuer) {\n    case \"amex\":\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(4, 10)} ${clearValue.slice(10, 15)}`;\n      break;\n    case \"dinersclub\":\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(4, 10)} ${clearValue.slice(10, 14)}`;\n      break;\n    default:\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(4, 8)} ${clearValue.slice(8, 12)} ${clearValue.slice(12, 19)}`;\n      break;\n  }\n  return nextValue.trim();\n}\nexport function formatCVC(value, prevValue) {\n  let allValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const clearValue = clearNumber(value);\n  let maxLength = 4;\n  if (allValues.number) {\n    const issuer = Payment.fns.cardType(allValues.number);\n    maxLength = issuer === \"amex\" ? 4 : 3;\n  }\n  return clearValue.slice(0, maxLength);\n}\nexport function formatNumber(value, prevValue) {\n  let allValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const clearValue = clearNumber(value);\n  return clearValue;\n}\nexport function formatExpirationDate(value) {\n  const clearValue = clearNumber(value);\n  if (clearValue.length >= 3) {\n    return `${clearValue.slice(0, 2)}/${clearValue.slice(2, 4)}`;\n  }\n  return clearValue;\n}\nexport function formatFormData(data) {\n  return Object.keys(data).map(d => `${d}: ${data[d]}`);\n}","map":{"version":3,"names":["Payment","clearNumber","value","arguments","length","undefined","replace","formatCreditCardNumber","issuer","fns","cardType","clearValue","nextValue","slice","trim","formatCVC","prevValue","allValues","maxLength","number","formatNumber","formatExpirationDate","formatFormData","data","Object","keys","map","d"],"sources":["/Users/tashapais/Documents/Github/lionhack/src/utils/cardUtils.js"],"sourcesContent":["import Payment from \"payment\";\n\nfunction clearNumber(value = \"\") {\n  return value.replace(/\\D+/g, \"\");\n}\n\nexport function formatCreditCardNumber(value) {\n  if (!value) {\n    return value;\n  }\n\n  const issuer = Payment.fns.cardType(value);\n  const clearValue = clearNumber(value);\n  let nextValue;\n\n  switch (issuer) {\n    case \"amex\":\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(\n        4,\n        10\n      )} ${clearValue.slice(10, 15)}`;\n      break;\n    case \"dinersclub\":\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(\n        4,\n        10\n      )} ${clearValue.slice(10, 14)}`;\n      break;\n    default:\n      nextValue = `${clearValue.slice(0, 4)} ${clearValue.slice(\n        4,\n        8\n      )} ${clearValue.slice(8, 12)} ${clearValue.slice(12, 19)}`;\n      break;\n  }\n\n  return nextValue.trim();\n}\n\nexport function formatCVC(value, prevValue, allValues = {}) {\n  const clearValue = clearNumber(value);\n  let maxLength = 4;\n\n  if (allValues.number) {\n    const issuer = Payment.fns.cardType(allValues.number);\n    maxLength = issuer === \"amex\" ? 4 : 3;\n  }\n\n  return clearValue.slice(0, maxLength);\n}\n\nexport function formatNumber(value, prevValue, allValues = {}) {\n  const clearValue = clearNumber(value);\n\n  return clearValue;\n}\n\n\nexport function formatExpirationDate(value) {\n  const clearValue = clearNumber(value);\n\n  if (clearValue.length >= 3) {\n    return `${clearValue.slice(0, 2)}/${clearValue.slice(2, 4)}`;\n  }\n\n  return clearValue;\n}\n\nexport function formatFormData(data) {\n  return Object.keys(data).map(d => `${d}: ${data[d]}`);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}